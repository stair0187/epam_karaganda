DROP TABLE IF EXISTS "AUTO_PART" CASCADE;
CREATE TABLE "AUTO_PART" (
  ID       BIGINT      NOT NULL PRIMARY KEY,
  ARTICULE VARCHAR(30) NOT NULL,
  NAME     VARCHAR(50) NOT NULL,
  TYPE     VARCHAR(50)      NOT NULL,
  PRICE    DECIMAL     NOT NULL
);

DROP TABLE IF EXISTS "CATALOGUE";
CREATE TABLE "CATALOGUE" (
  AUTOPART_ID BIGINT NOT NULL PRIMARY KEY REFERENCES "AUTO_PART"(ID),
  COUNT       BIGINT NOT NULL
);

DROP TABLE IF EXISTS "USER";
CREATE TABLE "USER" (
  ID BIGINT NOT NULL PRIMARY KEY,
  NAME VARCHAR(30) NOT NULL,
  LOGIN VARCHAR(50) NOT NULL,
  PASSWORD VARCHAR(30) NOT NULL,
  ROLE VARCHAR(50) NOT NULL
);

DROP TABLE IF EXISTS "ORDER";
CREATE TABLE "ORDER" (
  ID      BIGINT  NOT NULL PRIMARY KEY,
  USER_ID BIGINT  NOT NULL REFERENCES "USER"(ID),
  TOTAL   DECIMAL NOT NULL,
  STATUS  VARCHAR(50)  NOT NULL
);

DROP TABLE IF EXISTS "ORDER_ITEM";
CREATE TABLE "ORDER_ITEM" (
  ORDER_ID BIGINT NOT NULL PRIMARY KEY REFERENCES "ORDER"(ID),
  AUTOPART_ID BIGINT NOT NULL REFERENCES "AUTO_PART"(ID),
  COUNT BIGINT NOT NULL
);

DROP TABLE IF EXISTS "SHOPPING_CART";
CREATE TABLE "SHOPPING_CART" (
  ID BIGINT NOT NULL PRIMARY KEY,
  USER_ID BIGINT NOT NULL REFERENCES "USER"(ID)
);

DROP TABLE IF EXISTS "CART_ITEM";
CREATE TABLE "CART_ITEM" (
  CART_ID     BIGINT NOT NULL REFERENCES "SHOPPING_CART"(ID),
  AUTOPART_ID BIGINT NOT NULL REFERENCES "AUTO_PART"(ID),
  COUNT       BIGINT NOT NULL,
  PRIMARY KEY (CART_ID,AUTOPART_ID)
);







